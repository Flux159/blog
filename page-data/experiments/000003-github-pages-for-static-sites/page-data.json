{
    "componentChunkName": "component---src-templates-docs-js",
    "path": "/experiments/000003-github-pages-for-static-sites",
    "result": {"data":{"site":{"siteMetadata":{"title":"Suyogs website","docsLocation":"https://github.com/flux159/blog"}},"mdx":{"fields":{"id":"efedb576-cd9d-5d83-a2b7-3ec072414f28","title":"Github Pages for Static Sites","slug":"/experiments/000003-github-pages-for-static-sites"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Github Pages for Static Sites\",\n  \"path\": \"/experiments/github-pages-for-static-sites\",\n  \"date\": \"11-28-2019\",\n  \"metaTitle\": \"Github Pages for Static Sites\",\n  \"metaDescription\": \"Using Github Pages with Gatsby.js\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Intro\"), mdx(\"p\", null, \"Writing a static site has gotten significantly more difficult than \\\"upload a .html file to a shared host\\\" in the 90s.\"), mdx(\"p\", null, \"This post is talking about how I setup \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://suyogs.com/\"\n  }, \"this\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/flux159/blog\"\n  }, \"blog\"), \" to be hosted on Github Pages and used a Github Action to update on every push to master. It uses \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.gatsbyjs.org/\"\n  }, \"Gatsby\"), \" as the static site generator and I started with a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.gatsbyjs.org/starters/hasura/gatsby-gitbook-starter/\"\n  }, \"template\"), \" that lets me use \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/mdx-js/mdx\"\n  }, \"mdx\"), \" in my posts for interactive React content.\"), mdx(\"p\", null, \"Some of the nice parts of this setup is that I can update the markdown content via the Github online editor (works on mobile and in any browser). Since the Github Action is setup to continuously deploy a new build on every commit to master, I don't need to clone, build, and redeploy on a local machine.\"), mdx(\"h1\", null, \"Setup\"), mdx(\"p\", null, \"On a Mac, get \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://nodejs.org/en/\"\n  }, \"Node.js\"), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://yarnpkg.com/lang/en/\"\n  }, \"Yarn\"), \" installed. You probably need \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://osxdaily.com/2014/02/12/install-command-line-tools-mac-os-x/\"\n  }, \"Xcode tools\"), \" for git and other tools as well.\"), mdx(\"p\", null, \"Setup global modules for node.js by creating a .npm-global directory as described \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally\"\n  }, \"here\"), \". \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"npm i -g gatsby-cli\\nmkdir -p ~/Projects/gatsbysites\\ngatsby new gatsby-gitbook-starter https://github.com/hasura/gatsby-gitbook-starter\\ncd ./gatsby-gitbook-starter\\ngatsby develop\\n\")), mdx(\"p\", null, \"I made a bunch of changes to the config.js file and did some work to change the theme of the site from a purple hue to a blue hue.\"), mdx(\"p\", null, \"Then I tested out a static build by doing the following:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"yarn build\\ncd ./public && python -m http.server\\n\")), mdx(\"h1\", null, \"Github Pages and Github Actions\"), mdx(\"p\", null, \"Once I knew that a static build would work, I wanted to setup the site so that it could be published to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://pages.github.com/\"\n  }, \"Github Pages\"), \".\"), mdx(\"p\", null, \"I created a new public repo on Github, and added my changes:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \" git remote add origin <remote repo URL>\\n git push -u origin master\\n\")), mdx(\"p\", null, \"Then I wanted to setup Github Pages to automatically publish to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://help.github.com/en/github/working-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site\"\n  }, \"gh-pages branch\"), \". I saw that there already existed an \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/enriikke/gatsby-gh-pages-action\"\n  }, \"action\"), \" to do that, so I added it to a workflow .yml file in my repo:\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<repo>/.github/workflows/main.yml\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"name: Gatsby Publish\\n\\non:\\n  push:\\n    branches:\\n      - master\\n\\njobs:\\n  build:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v1\\n      - uses: enriikke/gatsby-gh-pages-action@2.1.1\\n        with:\\n          access-token: ${{ secrets.ACCESS_TOKEN }}\\n          deploy-branch: gh-pages\\n          gatsby-args: --prefix-paths\\n\")), mdx(\"p\", null, \"The only thing to note here is that there's a secrets.ACCESS_TOKEN that is specified in the file.\"), mdx(\"p\", null, \"To create this token, you want to create a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line\"\n  }, \"personal access token\"), \" with the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"repo\"), \" permissions.\"), mdx(\"p\", null, \"Then in your Repo's Settings, go to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://help.github.com/en/actions/automating-your-workflow-with-github-actions/creating-and-using-encrypted-secrets\"\n  }, \"Secrets\"), \" and create a secret named \\\"ACCESS_TOKEN\\\" with the personal access token you just created.\"), mdx(\"p\", null, \"Now if you make a new change on master and push to the repo, it should automatically publish to the gh-pages branch.\"), mdx(\"p\", null, \"NOTE: Make sure that your Github repository settings have gh-pages as the branch you want to host pages from.\"), mdx(\"h1\", null, \"Setting up DNS\"), mdx(\"p\", null, \"Once I had the gh-pages branch setup and autodeploying my changes on commit, I wanted to do one last thing to setup my personal blog - configure my DNS Nameservers to point to Github.\"), mdx(\"p\", null, \"I use \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.namecheap.com/\"\n  }, \"Namecheap\"), \" as my Domain Name Provider, so I followed Github's \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site\"\n  }, \"instructions\"), \" on how to properly setup my A records.\"), mdx(\"p\", null, \"I also needed to add a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CNAME\"), \" file in my master branch with the name of my site \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://suyogs.com\"\n  }, \"suyogs.com\"), \".\"), mdx(\"p\", null, \"After the DNS changes propagated, I was able to go to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://suyogs.com\"\n  }, \"https://suyogs.com\"), \" and it showed my Github Pages site!\"), mdx(\"h1\", null, \"Additions\"), mdx(\"p\", null, \"I cleaned up some of the CSS and headers that I didn't need from the starter template (and changed the color scheme to use a blue hue).\"), mdx(\"p\", null, \"I also removed the need for Jquery and Bootstrap js by making the mobile navigation use React instead. Also made sure that the site \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"mostly\"), \" worked without Javascript (obvious things like mobile dropdown and live mode JS code don't work).\"), mdx(\"h1\", null, \"Todos\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"I still need to add commenting and social sharing to the site to allow it to be more interactive and easily shareable. \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.gatsbyjs.org/docs/adding-comments/\"\n  }, \"Gatsby\"), \" has a number of solutions for adding commenting to the site. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://swas.io/blog/social-share-button-for-gatsby-blog-pages/\"\n  }, \"React Share\"), \" is an option for adding social sharing.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Adding an index page with \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.gatsbyjs.org/docs/adding-pagination/\"\n  }, \"pagination\"), \" along with an \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.gatsbyjs.org/docs/adding-an-rss-feed/\"\n  }, \"RSS feed\"), \" would make the site more accessible to read from other sources. \")), mdx(\"h1\", null, \"References\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.gatsbyjs.org/\"\n  }, \"https://www.gatsbyjs.org/\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://pages.github.com/\"\n  }, \"https://pages.github.com/\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/features/actions\"\n  }, \"https://github.com/features/actions\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://help.github.com/en/actions/automating-your-workflow-with-github-actions/creating-and-using-encrypted-secrets\"\n  }, \"https://help.github.com/en/actions/automating-your-workflow-with-github-actions/creating-and-using-encrypted-secrets\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://medium.com/@hossainkhan/using-custom-domain-for-github-pages-86b303d3918a\"\n  }, \"https://medium.com/@hossainkhan/using-custom-domain-for-github-pages-86b303d3918a\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site\"\n  }, \"https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site\"))));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#intro","title":"Intro"},{"url":"#setup","title":"Setup"},{"url":"#github-pages-and-github-actions","title":"Github Pages and Github Actions"},{"url":"#setting-up-dns","title":"Setting up DNS"},{"url":"#additions","title":"Additions"},{"url":"#todos","title":"Todos"},{"url":"#references","title":"References"}]},"parent":{"relativePath":"experiments/000003-github-pages-for-static-sites.md"},"frontmatter":{"metaTitle":"Github Pages for Static Sites","metaDescription":"Using Github Pages with Gatsby.js","path":"/experiments/github-pages-for-static-sites","date":"11-28-2019"}},"allMdx":{"edges":[{"node":{"fields":{"slug":"/experiments","title":"Experiments and Thoughts"}}},{"node":{"fields":{"slug":"/images","title":"Images"}}},{"node":{"fields":{"slug":"/","title":"Suyogs Website"}}},{"node":{"fields":{"slug":"/projects","title":"Projects"}}},{"node":{"fields":{"slug":"/work","title":"Work"}}},{"node":{"fields":{"slug":"/experiments/000001-qemu-and-tinycore","title":"QEMU and Tinycore Linux"}}},{"node":{"fields":{"slug":"/experiments/000002-zero-to-web-browser","title":"Zero to Web Browser"}}},{"node":{"fields":{"slug":"/experiments/000003-github-pages-for-static-sites","title":"Github Pages for Static Sites"}}},{"node":{"fields":{"slug":"/experiments/000004-titanic-dataset","title":"Titanic Dataset"}}},{"node":{"fields":{"slug":"/experiments/000005-vscode-online","title":"VSCode Online with AWS"}}},{"node":{"fields":{"slug":"/experiments/000006-windows-gaming-pc-on-aws","title":"Create your own Windows Gaming PC on AWS"}}},{"node":{"fields":{"slug":"/experiments/000007-nextjs-with-postgraphile","title":"Next.js with Postgraphile"}}},{"node":{"fields":{"slug":"/images/000001-central-park","title":"Central Park"}}}]}},"pageContext":{"id":"efedb576-cd9d-5d83-a2b7-3ec072414f28"}},
    "staticQueryHashes": ["1255495854","2619113677","417421954"]}